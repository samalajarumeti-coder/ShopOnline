# üõí Convenience Store MCP Server

MCP Server ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏ö‡∏ö‡πÄ‡∏ï‡πá‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ú‡πà‡∏≤‡∏ô AI Assistant

## üöÄ Setup (3 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô)

### 1. ‡πÄ‡∏û‡∏¥‡πà‡∏° Service Role Key ‡πÉ‡∏ô `.env`

```env
SUPABASE_SERVICE_ROLE_KEY=<copy-from-supabase-dashboard>
```

üìç ‡∏î‡∏π‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà: [Supabase Dashboard > Settings > API](https://supabase.com/dashboard/project/hdcigjthmiohhnfcqnvl/settings/api) ‚Üí `service_role` (secret)

### 2. Reconnect MCP Server

Command Palette ‚Üí "MCP: Reconnect Server" ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å `convenience-store`

### 3. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö

‡∏û‡∏¥‡∏°‡∏û‡πå: "‡∏î‡∏π‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î" ‡∏´‡∏£‡∏∑‡∏≠ "list_products"

## üì¶ Tools ‡∏ó‡∏µ‡πà‡∏°‡∏µ

### Products (‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤)

| Tool                   | Description                                 |
| ---------------------- | ------------------------------------------- |
| `list_products`        | ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡∏û‡∏£‡πâ‡∏≠‡∏° filter/search/pagination |
| `get_product`          | ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤                          |
| `create_product`       | ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà                             |
| `update_product`       | ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤                                |
| `delete_product`       | ‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (soft delete)                      |
| `update_stock`         | ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏™‡∏ï‡πá‡∏≠‡∏Å                                 |
| `bulk_update_products` | ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏´‡∏•‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô                    |

### Categories (‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà)

| Tool              | Description    |
| ----------------- | -------------- |
| `list_categories` | ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà |
| `create_category` | ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà  |
| `update_category` | ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà |
| `delete_category` | ‡∏•‡∏ö‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà     |

### Orders (‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå)

| Tool                  | Description                |
| --------------------- | -------------------------- |
| `list_orders`         | ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå ‡∏û‡∏£‡πâ‡∏≠‡∏° filter |
| `get_order`           | ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå        |
| `update_order_status` | ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞                |
| `get_order_stats`     | ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå               |

### Users (‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ)

| Tool                 | Description        |
| -------------------- | ------------------ |
| `list_users`         | ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ       |
| `get_user`           | ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ |
| `update_user_points` | ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÅ‡∏ï‡πâ‡∏°         |
| `update_user_role`   | ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó role        |

### Coupons (‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á)

| Tool            | Description |
| --------------- | ----------- |
| `list_coupons`  | ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á |
| `create_coupon` | ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á  |
| `update_coupon` | ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á |
| `delete_coupon` | ‡∏•‡∏ö‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á     |

### Banners (‡πÅ‡∏ö‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå)

| Tool            | Description    |
| --------------- | -------------- |
| `list_banners`  | ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå |
| `create_banner` | ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå  |
| `update_banner` | ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÅ‡∏ö‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå |
| `delete_banner` | ‡∏•‡∏ö‡πÅ‡∏ö‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå     |

### Analytics (‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô)

| Tool                     | Description     |
| ------------------------ | --------------- |
| `get_dashboard_stats`    | ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ Dashboard |
| `get_top_products`       | ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ     |
| `get_sales_report`       | ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢    |
| `get_low_stock_products` | ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏ï‡πà‡∏≥  |

### Loyalty (‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏∞‡∏™‡∏°‡πÅ‡∏ï‡πâ‡∏°)

| Tool               | Description      |
| ------------------ | ---------------- |
| `list_rewards`     | ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•     |
| `create_reward`    | ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•      |
| `list_challenges`  | ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ Challenge |
| `create_challenge` | ‡∏™‡∏£‡πâ‡∏≤‡∏á Challenge  |

## üí¨ ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á (‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ï‡∏£‡∏á‡πÜ ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢)

| ‡∏á‡∏≤‡∏ô                  | ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á                                        |
| -------------------- | --------------------------------------------- |
| ‡∏î‡∏π‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î      | "‡∏î‡∏π‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"                             |
| ‡∏î‡∏π‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏´‡∏°‡∏ß‡∏î drinks  | "‡∏î‡∏π‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏´‡∏°‡∏ß‡∏î drinks"                       |
| ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤          | "‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡∏ô‡πâ‡∏≥‡∏™‡πâ‡∏°"                          |
| ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤          | "‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡∏ä‡∏∑‡πà‡∏≠ ‡∏ô‡πâ‡∏≥‡∏™‡πâ‡∏° ‡∏£‡∏≤‡∏Ñ‡∏≤ 25 ‡∏´‡∏°‡∏ß‡∏î drinks" |
| ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏™‡∏ï‡πá‡∏≠‡∏Å          | "‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ID 5 ‡πÄ‡∏õ‡πá‡∏ô 100"             |
| ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏ï‡πá‡∏≠‡∏Å           | "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ID 5 ‡∏≠‡∏µ‡∏Å 50"                |
| ‡∏î‡∏π‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£ | "‡∏î‡∏π‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£"                     |
| ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå   | "‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå 123 ‡πÄ‡∏õ‡πá‡∏ô delivering"           |
| ‡∏î‡∏π‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ       | "‡∏î‡∏π‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ"                              |
| ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ          | "‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ 5 ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö"                        |
| ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏ï‡πà‡∏≥       | "‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 5"                        |
| ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á           | "‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á‡∏•‡∏î 10% ‡∏£‡∏´‡∏±‡∏™ SAVE10"                |

## ‚ö†Ô∏è ‡∏Å‡∏è‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

| ‡∏Å‡∏è               | ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î                                               |
| ---------------- | -------------------------------------------------------- |
| delete_product   | Soft delete ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô (is_active = false)                 |
| delete_category  | ‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà                                |
| Order status     | pending ‚Üí confirmed ‚Üí preparing ‚Üí delivering ‚Üí completed |
| Coupon type      | `percentage` ‡∏´‡∏£‡∏∑‡∏≠ `fixed` ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô                       |
| Stock adjustment | ‡πÉ‡∏ä‡πâ `adjustment: +50` ‡∏´‡∏£‡∏∑‡∏≠ `adjustment: -10`             |

## üîí Security

- ‡πÉ‡∏ä‡πâ Service Role Key (bypass RLS) - **‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ú‡∏¢**
- ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö admin operations ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
- ‡πÑ‡∏°‡πà commit Service Role Key ‡∏Ç‡∏∂‡πâ‡∏ô git
